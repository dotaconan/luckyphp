define(["jquery","lib/util/util"],function(e,t){function r(e){var t=["webkit","Moz","ms","o"],n,r=[],i=document.documentElement.style,s=function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})};for(n in t)r.push(s(t[n]+"-"+e));r.push(s(e));for(n in r)if(r[n]in i)return!0;return!1}var n=this;return{supportCss3:function(e){return r(e)},Tab:function(){return{init:function(e){this.bindEvent(e)},bindEvent:function(t){var n={click:"click",hover:"hover"},r=t.actionType||n.click,i=t.callback,s=this,o="j-tab",u="current",a="j-tab-content",f=e("."+o);t.$tab&&t.$tab.size()>0&&(f=t.$tab),f&&f.each(function(n,s){var o=e(s),f=o.find("ul.j-tab-title li"),l=o.find("."+a);f.bind(r,function(n){$this=e(this),f.removeClass(u),$this.addClass(u),l.hide();var r=$this.index();return l.eq(r).show(),i&&typeof i=="function"&&(t.current=$this,i(t)),!1})})}}}(),EventHelper:{preventDefault:function(e){var e=e||window.event;e.preventDefault?e.preventDefault():e.returnValue=!1},preventBubbles:function(e){var e=e||window.event;e.preventBubbles?e.preventBubbles():e.cancelBubble=!0}},PopQuestionHover:function(){var e=this;return{init:function(e){this.bindEvent(e)},bindEvent:function(e){var n=e.$src,r=e.$target;n.delayHover(function(){t.convertFadeCore(n,r,"mouseenter","","fadeInUp","fadeOutDown")},function(){t.convertFadeCore(n,r,"","mouseleave","fadeInUp","fadeOutDown")},100,0,r)}}}(),PopQuestion:function(){var t=this;return{init:function(e){this.popQuestionEvent(e)},popQuestionEvent:function(t){var n=100;t&&(n=t.delayTime);var i=r("animation-play-state"),s=e(".j-pop-question-target").siblings(".j-pop-question-text");s.hide();var o="pullUp",u="fadeOutDown",a="j-pop-question-text",f="j-pop-question-target",l=e(".j-pop-question-src");l.each(function(t,n){var r=e(n),i=r.siblings("."+f).find("."+a);r.mouseenter(function(){i.removeClass("fadeOutDown").removeClass("animated"),setTimeout(function(){i.hasClass("animated")||i.addClass("animated"),i.show(),i.addClass("fadeInUp")},10),r.data("hover","1")}),r.mouseleave(function(){r.data("hover","0"),setTimeout(function(){r.data("hover")!=1&&(i.hasClass("animated")||i.addClass("animated"),i.removeClass("fadeInUp").show(),i.addClass("fadeOutDown"),setTimeout(function(){i.hide(),i.removeClass("animated")},100))},200)}),i.mouseenter(function(){r.data("hover","1")}),i.mouseleave(function(){r.data("hover","0"),setTimeout(function(){r.data("hover")!=1&&(i.removeClass("fadeInUp").show().addClass("fadeOutDown").addClass("animated"),setTimeout(function(){i.hide(),i.removeClass("animated")},100))},100)})})}}}(),InputEventsInit:function(){e(".j-input-model").on("click",function(t){e(this).addClass("input-focus")}),e(".j-input-model").on("blur",function(t){e(this).removeClass("input-focus")})},Request:{GetQueryString:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return n!=null?unescape(n[2]):null}},ServerUtil:{MsgType:{success:"success",error:"error"},getServerTime:function(t){var n=this,r=new Date,i=t.callback||e.noop;return e.ajax({type:"get",url:"scripts/time.js",async:!1,complete:function(e,s){var o="";if(s==n.MsgType.success){r=new Date(e.getResponseHeader("Date")),o="server";var u=2015,a=r.getFullYear();a<u&&(r=new Date,o="client")}else r=new Date,o="client";i&&typeof i=="function"&&(t.serverTime=r,t.src=o,i(t))}}),r}},AlertBoxUtil:{show:function(t){function a(){var t=e(window).scrollTop(),n=(e(window).height()-r.outerHeight())/2,s=n+t;navigator.userAgent.indexOf("MSIE 6.0")>-1?(r.css({top:s+"px"}),i.css({width:e(window).width()+"px",height:e(window).height()+t+"px"})):i.css({width:e(window).width()+"px",height:e(window).height()+"px"})}var n=t.src,r=t.win,i=t.mask,s=t.beforeFunction,o=t.closeCallback,u=t.confirmFunction;s&&typeof s=="function"&&s(t),a(),i.removeClass("lc-mask-hide").addClass("lc-mask-show"),r.removeClass("lc-dialog-hide").addClass("lc-dialog-show"),e(window).scroll(function(){a()}),e(window).resize(function(e){a()});var f=r.find(".J-lc-dialog-close");f&&f.size()>0&&(f.unbind("click"),f.bind("click",function(){return o&&typeof o=="function"&&o(t),!1}));var l=r.find(".J-lc-dialog-confirm");l&&l.size()>0&&(l.unbind("click"),l.bind("click",function(){return u&&typeof u=="function"&&u(t),!1}))},close:function(e){var t=e.src,n=e.win,r=e.mask;r.removeClass("lc-mask-show"),n.removeClass("lc-dialog-show"),setTimeout(function(){n.addClass("lc-dialog-hide"),r.addClass("lc-mask-hide")},0)}}}});